<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LeetCode Full Stats for perumalhacks</title>
  <style>
    body {
      background-color: #121212;
      color: white;
      font-family: 'Fira Code', monospace;
      max-width: 600px;
      margin: 2rem auto;
      padding: 1rem;
    }
    .stats p {
      font-size: 1.1rem;
      margin: 0.5rem 0;
    }
    .heatmap {
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <h1>LeetCode Full Stats for <span style="color:#61dafb;">perumalhacks</span></h1>
  <div id="stats" class="stats">Loading stats...</div>
  <div class="heatmap">
    <h3>Submission Activity Heatmap</h3>
    <img id="heatmap-img" alt="Submission Activity Heatmap" />
  </div>

  <script>
    const username = 'perumalhacks';
    const apiUrl = `https://leetcode-stats-api.herokuapp.com/${username}`;

    fetch(apiUrl)
      .then(response => response.json())
      .then(data => {
        if (data.status === 'error') {
          document.getElementById('stats').innerHTML = `Error: ${data.message}`;
          return;
        }

        document.getElementById('stats').innerHTML = `
          <p><strong>Ranking:</strong> #${data.ranking?.toLocaleString() ?? 'N/A'}</p>
          <p><strong>Reputation:</strong> ${data.reputation ?? 'N/A'}</p>
          <p><strong>Contribution Points:</strong> ${data.contributionPoints ?? 'N/A'}</p>
          <p><strong>Submission Count:</strong> ${data.submissionCount ?? 'N/A'}</p>
          <p><strong>Solutions Viewed:</strong> ${data.solutionCount ?? 'N/A'}</p>
          <p><strong>Badges Count:</strong> ${data.badgesCount ?? 'N/A'}</p>
          <p><strong>Max Streak:</strong> ${data.maxStreak ? data.maxStreak + ' days' : 'N/A'}</p>
          <p><strong>Current Streak:</strong> ${data.currentStreak ? data.currentStreak + ' days' : 'N/A'}</p>
        `;

        // Set the heatmap image from the API
        document.getElementById('heatmap-img').src = `https://leetcode.com/${username}/submission_calendar/`;
      })
      .catch(error => {
        document.getElementById('stats').innerHTML = 'Failed to load data.';
        console.error('Fetch error:', error);
      });
  </script>
</body>
</html>
